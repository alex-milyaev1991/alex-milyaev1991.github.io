import"./vue-BBAXGWAI.js";import{s as ae,u as N,b as se,n as ce,d as Qt,f as le,g as Q,h as B,j as Xt,p as dt,k as ie,w as ue}from"./@vue-BpmQINlQ.js";/*!
  * vue-router v4.3.3
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const K=typeof document<"u",R=Object.assign;function mt(t,e){const r={};for(const c in e){const i=e[c];r[c]=L(i)?i.map(t):t(i)}return r}const Z=()=>{},L=Array.isArray,Yt=/#/g,fe=/&/g,pe=/\//g,he=/=/g,de=/\?/g,Jt=/\+/g,me=/%5B/g,ge=/%5D/g,Nt=/%5E/g,ve=/%60/g,Zt=/%7B/g,ye=/%7C/g,te=/%7D/g,be=/%20/g;function kt(t){return encodeURI(""+t).replace(ye,"|").replace(me,"[").replace(ge,"]")}function gt(t){return kt(t).replace(Jt,"%2B").replace(be,"+").replace(Yt,"%23").replace(fe,"%26").replace(ve,"`").replace(Zt,"{").replace(te,"}").replace(Nt,"^")}function we(t){return t==null?"":function(e){return kt(e).replace(Yt,"%23").replace(de,"%3F")}(t).replace(pe,"%2F")}function et(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const Ee=/\/$/,ke=t=>t.replace(Ee,"");function vt(t,e,r="/"){let c,i={},h="",w="";const n=e.indexOf("#");let o=e.indexOf("?");return n<o&&n>=0&&(o=-1),o>-1&&(c=e.slice(0,o),h=e.slice(o+1,n>-1?n:e.length),i=t(h)),n>-1&&(c=c||e.slice(0,n),w=e.slice(n,e.length)),c=function(l,u){if(l.startsWith("/"))return l;if(!l)return u;const m=u.split("/"),s=l.split("/"),f=s[s.length-1];f!==".."&&f!=="."||s.push("");let p,g,y=m.length-1;for(p=0;p<s.length;p++)if(g=s[p],g!=="."){if(g!=="..")break;y>1&&y--}return m.slice(0,y).join("/")+"/"+s.slice(p).join("/")}(c??e,r),{fullPath:c+(h&&"?")+h+w,path:c,query:i,hash:et(w)}}function jt(t,e){return e&&t.toLowerCase().startsWith(e.toLowerCase())?t.slice(e.length)||"/":t}function H(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function ee(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(!Re(t[r],e[r]))return!1;return!0}function Re(t,e){return L(t)?$t(t,e):L(e)?$t(e,t):t===e}function $t(t,e){return L(e)?t.length===e.length&&t.every((r,c)=>r===e[c]):t.length===1&&t[0]===e}var nt,St,tt,yt;(St=nt||(nt={})).pop="pop",St.push="push",(yt=tt||(tt={})).back="back",yt.forward="forward",yt.unknown="";const Oe=/^[^#]+#/;function Pe(t,e){return t.replace(Oe,"#")+e}const st=()=>({left:window.scrollX,top:window.scrollY});function xe(t){let e;if("el"in t){const r=t.el,c=typeof r=="string"&&r.startsWith("#"),i=typeof r=="string"?c?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!i)return;e=function(h,w){const n=document.documentElement.getBoundingClientRect(),o=h.getBoundingClientRect();return{behavior:w.behavior,left:o.left-n.left-(w.left||0),top:o.top-n.top-(w.top||0)}}(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function qt(t,e){return(history.state?history.state.position-e:-1)+t}const bt=new Map;let Ce=()=>location.protocol+"//"+location.host;function At(t,e){const{pathname:r,search:c,hash:i}=e,h=t.indexOf("#");if(h>-1){let w=i.includes(t.slice(h))?t.slice(h).length:1,n=i.slice(w);return n[0]!=="/"&&(n="/"+n),jt(n,"")}return jt(r,t)+c+i}function Lt(t,e,r,c=!1,i=!1){return{back:t,current:e,forward:r,replaced:c,position:window.history.length,scroll:i?st():null}}function Ve(t){const e=function(i){const{history:h,location:w}=window,n={value:At(i,w)},o={value:h.state};function l(u,m,s){const f=i.indexOf("#"),p=f>-1?(w.host&&document.querySelector("base")?i:i.slice(f))+u:Ce()+i+u;try{h[s?"replaceState":"pushState"](m,"",p),o.value=m}catch(g){console.error(g),w[s?"replace":"assign"](p)}}return o.value||l(n.value,{back:null,current:n.value,forward:null,position:h.length-1,replaced:!0,scroll:null},!0),{location:n,state:o,push:function(u,m){const s=R({},o.value,h.state,{forward:u,scroll:st()});l(s.current,s,!0),l(u,R({},Lt(n.value,u,null),{position:s.position+1},m),!1),n.value=u},replace:function(u,m){l(u,R({},h.state,Lt(o.value.back,u,o.value.forward,!0),m,{position:o.value.position}),!0),n.value=u}}}(t=function(i){if(!i)if(K){const h=document.querySelector("base");i=(i=h&&h.getAttribute("href")||"/").replace(/^\w+:\/\/[^\/]+/,"")}else i="/";return i[0]!=="/"&&i[0]!=="#"&&(i="/"+i),ke(i)}(t)),r=function(i,h,w,n){let o=[],l=[],u=null;const m=({state:f})=>{const p=At(i,location),g=w.value,y=h.value;let O=0;if(f){if(w.value=p,h.value=f,u&&u===g)return void(u=null);O=y?f.position-y.position:0}else n(p);o.forEach(j=>{j(w.value,g,{delta:O,type:nt.pop,direction:O?O>0?tt.forward:tt.back:tt.unknown})})};function s(){const{history:f}=window;f.state&&f.replaceState(R({},f.state,{scroll:st()}),"")}return window.addEventListener("popstate",m),window.addEventListener("beforeunload",s,{passive:!0}),{pauseListeners:function(){u=w.value},listen:function(f){o.push(f);const p=()=>{const g=o.indexOf(f);g>-1&&o.splice(g,1)};return l.push(p),p},destroy:function(){for(const f of l)f();l=[],window.removeEventListener("popstate",m),window.removeEventListener("beforeunload",s)}}}(t,e.state,e.location,e.replace),c=R({location:"",base:t,go:function(i,h=!0){h||r.pauseListeners(),history.go(i)},createHref:Pe.bind(null,t)},e,r);return Object.defineProperty(c,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(c,"state",{enumerable:!0,get:()=>e.state.value}),c}function ne(t){return typeof t=="string"||typeof t=="symbol"}const W={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},re=Symbol("");var Mt,z;function X(t,e){return R(new Error,{type:t,[re]:!0},e)}function G(t,e){return t instanceof Error&&re in t&&(e==null||!!(t.type&e))}(z=Mt||(Mt={}))[z.aborted=4]="aborted",z[z.cancelled=8]="cancelled",z[z.duplicated=16]="duplicated";const Bt="[^/]+?",je={sensitive:!1,strict:!1,start:!0,end:!0},$e=/[.+*?^${}()[\]/\\]/g;function Se(t,e){let r=0;for(;r<t.length&&r<e.length;){const c=e[r]-t[r];if(c)return c;r++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function Gt(t,e){let r=0;const c=t.score,i=e.score;for(;r<c.length&&r<i.length;){const h=Se(c[r],i[r]);if(h)return h;r++}if(Math.abs(i.length-c.length)===1){if(It(c))return 1;if(It(i))return-1}return i.length-c.length}function It(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const qe={type:0,value:""},Ae=/[a-zA-Z0-9_]/;function Le(t,e,r){const c=function(h,w){const n=R({},je,w),o=[];let l=n.start?"^":"";const u=[];for(const s of h){const f=s.length?[]:[90];n.strict&&!s.length&&(l+="/");for(let p=0;p<s.length;p++){const g=s[p];let y=40+(n.sensitive?.25:0);if(g.type===0)p||(l+="/"),l+=g.value.replace($e,"\\$&"),y+=40;else if(g.type===1){const{value:O,repeatable:j,optional:q,regexp:M}=g;u.push({name:O,repeatable:j,optional:q});const A=M||Bt;if(A!==Bt){y+=10;try{new RegExp(`(${A})`)}catch(rt){throw new Error(`Invalid custom RegExp for param "${O}" (${A}): `+rt.message)}}let I=j?`((?:${A})(?:/(?:${A}))*)`:`(${A})`;p||(I=q&&s.length<2?`(?:/${I})`:"/"+I),q&&(I+="?"),l+=I,y+=20,q&&(y+=-8),j&&(y+=-20),A===".*"&&(y+=-50)}f.push(y)}o.push(f)}if(n.strict&&n.end){const s=o.length-1;o[s][o[s].length-1]+=.7000000000000001}n.strict||(l+="/?"),n.end?l+="$":n.strict&&(l+="(?:/|$)");const m=new RegExp(l,n.sensitive?"":"i");return{re:m,score:o,keys:u,parse:function(s){const f=s.match(m),p={};if(!f)return null;for(let g=1;g<f.length;g++){const y=f[g]||"",O=u[g-1];p[O.name]=y&&O.repeatable?y.split("/"):y}return p},stringify:function(s){let f="",p=!1;for(const g of h){p&&f.endsWith("/")||(f+="/"),p=!1;for(const y of g)if(y.type===0)f+=y.value;else if(y.type===1){const{value:O,repeatable:j,optional:q}=y,M=O in s?s[O]:"";if(L(M)&&!j)throw new Error(`Provided param "${O}" is an array but it is not repeatable (* or + modifiers)`);const A=L(M)?M.join("/"):M;if(!A){if(!q)throw new Error(`Missing required param "${O}"`);g.length<2&&(f.endsWith("/")?f=f.slice(0,-1):p=!0)}f+=A}}return f||"/"}}}(function(h){if(!h)return[[]];if(h==="/")return[[qe]];if(!h.startsWith("/"))throw new Error(`Invalid path "${h}"`);function w(j){throw new Error(`ERR (${n})/"${p}": ${j}`)}let n=0,o=n;const l=[];let u;function m(){u&&l.push(u),u=[]}let s,f=0,p="",g="";function y(){p&&(n===0?u.push({type:0,value:p}):n===1||n===2||n===3?(u.length>1&&(s==="*"||s==="+")&&w(`A repeatable param (${p}) must be alone in its segment. eg: '/:ids+.`),u.push({type:1,value:p,regexp:g,repeatable:s==="*"||s==="+",optional:s==="*"||s==="?"})):w("Invalid state to consume buffer"),p="")}function O(){p+=s}for(;f<h.length;)if(s=h[f++],s!=="\\"||n===2)switch(n){case 0:s==="/"?(p&&y(),m()):s===":"?(y(),n=1):O();break;case 4:O(),n=o;break;case 1:s==="("?n=2:Ae.test(s)?O():(y(),n=0,s!=="*"&&s!=="?"&&s!=="+"&&f--);break;case 2:s===")"?g[g.length-1]=="\\"?g=g.slice(0,-1)+s:n=3:g+=s;break;case 3:y(),n=0,s!=="*"&&s!=="?"&&s!=="+"&&f--,g="";break;default:w("Unknown state")}else o=n,n=4;return n===2&&w(`Unfinished custom RegExp for param "${p}"`),y(),m(),l}(t.path),r),i=R(c,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function Me(t,e){const r=[],c=new Map;function i(n,o,l){const u=!l,m=function(y){return{path:y.path,redirect:y.redirect,name:y.name,meta:y.meta||{},aliasOf:void 0,beforeEnter:y.beforeEnter,props:Be(y),children:y.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in y?y.components||null:y.component&&{default:y.component}}}(n);m.aliasOf=l&&l.record;const s=Wt(e,n),f=[m];if("alias"in n){const y=typeof n.alias=="string"?[n.alias]:n.alias;for(const O of y)f.push(R({},m,{components:l?l.record.components:m.components,path:O,aliasOf:l?l.record:m}))}let p,g;for(const y of f){const{path:O}=y;if(o&&O[0]!=="/"){const j=o.record.path,q=j[j.length-1]==="/"?"":"/";y.path=o.record.path+(O&&q+O)}if(p=Le(y,o,s),l?l.alias.push(p):(g=g||p,g!==p&&g.alias.push(p),u&&n.name&&!Ut(p)&&h(n.name)),Dt(p)&&w(p),m.children){const j=m.children;for(let q=0;q<j.length;q++)i(j[q],p,l&&l.children[q])}l=l||p}return g?()=>{h(g)}:Z}function h(n){if(ne(n)){const o=c.get(n);o&&(c.delete(n),r.splice(r.indexOf(o),1),o.children.forEach(h),o.alias.forEach(h))}else{const o=r.indexOf(n);o>-1&&(r.splice(o,1),n.record.name&&c.delete(n.record.name),n.children.forEach(h),n.alias.forEach(h))}}function w(n){const o=function(l,u){let m=0,s=u.length;for(;m!==s;){const p=m+s>>1;Gt(l,u[p])<0?s=p:m=p+1}const f=function(p){let g=p;for(;g=g.parent;)if(Dt(g)&&Gt(p,g)===0)return g}(l);return f&&(s=u.lastIndexOf(f,s-1)),s}(n,r);r.splice(o,0,n),n.record.name&&!Ut(n)&&c.set(n.record.name,n)}return e=Wt({strict:!1,end:!0,sensitive:!1},e),t.forEach(n=>i(n)),{addRoute:i,resolve:function(n,o){let l,u,m,s={};if("name"in n&&n.name){if(l=c.get(n.name),!l)throw X(1,{location:n});m=l.record.name,s=R(_t(o.params,l.keys.filter(g=>!g.optional).concat(l.parent?l.parent.keys.filter(g=>g.optional):[]).map(g=>g.name)),n.params&&_t(n.params,l.keys.map(g=>g.name))),u=l.stringify(s)}else if(n.path!=null)u=n.path,l=r.find(g=>g.re.test(u)),l&&(s=l.parse(u),m=l.record.name);else{if(l=o.name?c.get(o.name):r.find(g=>g.re.test(o.path)),!l)throw X(1,{location:n,currentLocation:o});m=l.record.name,s=R({},o.params,n.params),u=l.stringify(s)}const f=[];let p=l;for(;p;)f.unshift(p.record),p=p.parent;return{name:m,path:u,params:s,matched:f,meta:Ge(f)}},removeRoute:h,getRoutes:function(){return r},getRecordMatcher:function(n){return c.get(n)}}}function _t(t,e){const r={};for(const c of e)c in t&&(r[c]=t[c]);return r}function Be(t){const e={},r=t.props||!1;if("component"in t)e.default=r;else for(const c in t.components)e[c]=typeof r=="object"?r[c]:r;return e}function Ut(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Ge(t){return t.reduce((e,r)=>R(e,r.meta),{})}function Wt(t,e){const r={};for(const c in t)r[c]=c in e?e[c]:t[c];return r}function Dt({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function Ie(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let c=0;c<r.length;++c){const i=r[c].replace(Jt," "),h=i.indexOf("="),w=et(h<0?i:i.slice(0,h)),n=h<0?null:et(i.slice(h+1));if(w in e){let o=e[w];L(o)||(o=e[w]=[o]),o.push(n)}else e[w]=n}return e}function Ft(t){let e="";for(let r in t){const c=t[r];if(r=gt(r).replace(he,"%3D"),c==null){c!==void 0&&(e+=(e.length?"&":"")+r);continue}(L(c)?c.map(i=>i&&gt(i)):[c&&gt(c)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+r,i!=null&&(e+="="+i))})}return e}function _e(t){const e={};for(const r in t){const c=t[r];c!==void 0&&(e[r]=L(c)?c.map(i=>i==null?null:""+i):c==null?c:""+c)}return e}const Ue=Symbol(""),Tt=Symbol(""),Rt=Symbol(""),Ot=Symbol(""),Et=Symbol("");function J(){let t=[];return{add:function(e){return t.push(e),()=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)}},list:()=>t.slice(),reset:function(){t=[]}}}function D(t,e,r,c,i,h=w=>w()){const w=c&&(c.enterCallbacks[i]=c.enterCallbacks[i]||[]);return()=>new Promise((n,o)=>{const l=s=>{var f;s===!1?o(X(4,{from:r,to:e})):s instanceof Error?o(s):typeof(f=s)=="string"||f&&typeof f=="object"?o(X(2,{from:e,to:s})):(w&&c.enterCallbacks[i]===w&&typeof s=="function"&&w.push(s),n())},u=h(()=>t.call(c&&c.instances[i],e,r,l));let m=Promise.resolve(u);t.length<3&&(m=m.then(l)),m.catch(s=>o(s))})}function wt(t,e,r,c,i=h=>h()){const h=[];for(const n of t)for(const o in n.components){let l=n.components[o];if(e==="beforeRouteEnter"||n.instances[o])if(typeof(w=l)=="object"||"displayName"in w||"props"in w||"__vccOpts"in w){const u=(l.__vccOpts||l)[e];u&&h.push(D(u,r,c,n,o,i))}else{let u=l();h.push(()=>u.then(m=>{if(!m)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${n.path}"`));const s=(f=m).__esModule||f[Symbol.toStringTag]==="Module"?m.default:m;var f;n.components[o]=s;const p=(s.__vccOpts||s)[e];return p&&D(p,r,c,n,o,i)()}))}}var w;return h}function Vt(t){const e=Q(Rt),r=Q(Ot),c=B(()=>{const n=N(t.to);return e.resolve(n)}),i=B(()=>{const{matched:n}=c.value,{length:o}=n,l=n[o-1],u=r.matched;if(!l||!u.length)return-1;const m=u.findIndex(H.bind(null,l));if(m>-1)return m;const s=zt(n[o-2]);return o>1&&zt(l)===s&&u[u.length-1].path!==s?u.findIndex(H.bind(null,n[o-2])):m}),h=B(()=>i.value>-1&&function(n,o){for(const l in o){const u=o[l],m=n[l];if(typeof u=="string"){if(u!==m)return!1}else if(!L(m)||m.length!==u.length||u.some((s,f)=>s!==m[f]))return!1}return!0}(r.params,c.value.params)),w=B(()=>i.value>-1&&i.value===r.matched.length-1&&ee(r.params,c.value.params));return{route:c,href:B(()=>c.value.href),isActive:h,isExactActive:w,navigate:function(n={}){return function(o){if(!(o.metaKey||o.altKey||o.ctrlKey||o.shiftKey)&&!o.defaultPrevented&&!(o.button!==void 0&&o.button!==0)){if(o.currentTarget&&o.currentTarget.getAttribute){const l=o.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(l))return}return o.preventDefault&&o.preventDefault(),!0}}(n)?e[N(t.replace)?"replace":"push"](N(t.to)).catch(Z):Promise.resolve()}}}const We=Qt({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Vt,setup(t,{slots:e}){const r=le(Vt(t)),{options:c}=Q(Rt),i=B(()=>({[Kt(t.activeClass,c.linkActiveClass,"router-link-active")]:r.isActive,[Kt(t.exactActiveClass,c.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const h=e.default&&e.default(r);return t.custom?h:Xt("a",{"aria-current":r.isExactActive?t.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:i.value},h)}}});function zt(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Kt=(t,e,r)=>t??e??r;function Ht(t,e){if(!t)return null;const r=t(e);return r.length===1?r[0]:r}const De=Qt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:r}){const c=Q(Et),i=B(()=>t.route||c.value),h=Q(Tt,0),w=B(()=>{let l=N(h);const{matched:u}=i.value;let m;for(;(m=u[l])&&!m.components;)l++;return l}),n=B(()=>i.value.matched[w.value]);dt(Tt,B(()=>w.value+1)),dt(Ue,n),dt(Et,i);const o=ie();return ue(()=>[o.value,n.value,t.name],([l,u,m],[s,f,p])=>{u&&(u.instances[m]=l,f&&f!==u&&l&&l===s&&(u.leaveGuards.size||(u.leaveGuards=f.leaveGuards),u.updateGuards.size||(u.updateGuards=f.updateGuards))),!l||!u||f&&H(u,f)&&s||(u.enterCallbacks[m]||[]).forEach(g=>g(l))},{flush:"post"}),()=>{const l=i.value,u=t.name,m=n.value,s=m&&m.components[u];if(!s)return Ht(r.default,{Component:s,route:l});const f=m.props[u],p=f?f===!0?l.params:typeof f=="function"?f(l):f:null,g=Xt(s,R({},p,e,{onVnodeUnmounted:y=>{y.component.isUnmounted&&(m.instances[u]=null)},ref:o}));return Ht(r.default,{Component:g,route:l})||g}}});function ze(t){const e=Me(t.routes,t),r=t.parseQuery||Ie,c=t.stringifyQuery||Ft,i=t.history,h=J(),w=J(),n=J(),o=ae(W);let l=W;K&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=mt.bind(null,a=>""+a),m=mt.bind(null,we),s=mt.bind(null,et);function f(a,v){if(v=R({},v||o.value),typeof a=="string"){const E=vt(r,a,v.path),S=e.resolve({path:E.path},v),x=i.createHref(E.fullPath);return R(E,S,{params:s(S.params),hash:et(E.hash),redirectedFrom:void 0,href:x})}let d;if(a.path!=null)d=R({},a,{path:vt(r,a.path,v.path).path});else{const E=R({},a.params);for(const S in E)E[S]==null&&delete E[S];d=R({},a,{params:m(E)}),v.params=m(v.params)}const b=e.resolve(d,v),C=a.hash||"";b.params=u(s(b.params));const $=function(E,S){const x=S.query?E(S.query):"";return S.path+(x&&"?")+x+(S.hash||"")}(c,R({},a,{hash:(P=C,kt(P).replace(Zt,"{").replace(te,"}").replace(Nt,"^")),path:b.path}));var P;const k=i.createHref($);return R({fullPath:$,hash:C,query:c===Ft?_e(a.query):a.query||{}},b,{redirectedFrom:void 0,href:k})}function p(a){return typeof a=="string"?vt(r,a,o.value.path):R({},a)}function g(a,v){if(l!==a)return X(8,{from:v,to:a})}function y(a){return j(a)}function O(a){const v=a.matched[a.matched.length-1];if(v&&v.redirect){const{redirect:d}=v;let b=typeof d=="function"?d(a):d;return typeof b=="string"&&(b=b.includes("?")||b.includes("#")?b=p(b):{path:b},b.params={}),R({query:a.query,hash:a.hash,params:b.path!=null?{}:a.params},b)}}function j(a,v){const d=l=f(a),b=o.value,C=a.state,$=a.force,P=a.replace===!0,k=O(d);if(k)return j(R(p(k),{state:typeof k=="object"?R({},C,k.state):C,force:$,replace:P}),v||d);const E=d;let S;return E.redirectedFrom=v,!$&&function(x,_,F){const U=_.matched.length-1,T=F.matched.length-1;return U>-1&&U===T&&H(_.matched[U],F.matched[T])&&ee(_.params,F.params)&&x(_.query)===x(F.query)&&_.hash===F.hash}(c,b,d)&&(S=X(16,{to:E,from:b}),xt(b,b,!0,!1)),(S?Promise.resolve(S):A(E,b)).catch(x=>G(x)?G(x,2)?x:it(x):lt(x,E,b)).then(x=>{if(x){if(G(x,2))return j(R({replace:P},p(x.to),{state:typeof x.to=="object"?R({},C,x.to.state):C,force:$}),v||E)}else x=rt(E,b,!0,P,C);return I(E,b,x),x})}function q(a,v){const d=g(a,v);return d?Promise.reject(d):Promise.resolve()}function M(a){const v=at.values().next().value;return v&&typeof v.runWithContext=="function"?v.runWithContext(a):a()}function A(a,v){let d;const[b,C,$]=function(k,E){const S=[],x=[],_=[],F=Math.max(E.matched.length,k.matched.length);for(let U=0;U<F;U++){const T=E.matched[U];T&&(k.matched.find(ht=>H(ht,T))?x.push(T):S.push(T));const pt=k.matched[U];pt&&(E.matched.find(ht=>H(ht,pt))||_.push(pt))}return[S,x,_]}(a,v);d=wt(b.reverse(),"beforeRouteLeave",a,v);for(const k of b)k.leaveGuards.forEach(E=>{d.push(D(E,a,v))});const P=q.bind(null,a,v);return d.push(P),V(d).then(()=>{d=[];for(const k of h.list())d.push(D(k,a,v));return d.push(P),V(d)}).then(()=>{d=wt(C,"beforeRouteUpdate",a,v);for(const k of C)k.updateGuards.forEach(E=>{d.push(D(E,a,v))});return d.push(P),V(d)}).then(()=>{d=[];for(const k of $)if(k.beforeEnter)if(L(k.beforeEnter))for(const E of k.beforeEnter)d.push(D(E,a,v));else d.push(D(k.beforeEnter,a,v));return d.push(P),V(d)}).then(()=>(a.matched.forEach(k=>k.enterCallbacks={}),d=wt($,"beforeRouteEnter",a,v,M),d.push(P),V(d))).then(()=>{d=[];for(const k of w.list())d.push(D(k,a,v));return d.push(P),V(d)}).catch(k=>G(k,8)?k:Promise.reject(k))}function I(a,v,d){n.list().forEach(b=>M(()=>b(a,v,d)))}function rt(a,v,d,b,C){const $=g(a,v);if($)return $;const P=v===W,k=K?history.state:{};d&&(b||P?i.replace(a.fullPath,R({scroll:P&&k&&k.scroll},C)):i.push(a.fullPath,C)),o.value=a,xt(a,v,d,P),it()}let Y;function oe(){Y||(Y=i.listen((a,v,d)=>{if(!Ct.listening)return;const b=f(a),C=O(b);if(C)return void j(R(C,{replace:!0}),b).catch(Z);l=b;const $=o.value;var P,k;K&&(P=qt($.fullPath,d.delta),k=st(),bt.set(P,k)),A(b,$).catch(E=>G(E,12)?E:G(E,2)?(j(E.to,b).then(S=>{G(S,20)&&!d.delta&&d.type===nt.pop&&i.go(-1,!1)}).catch(Z),Promise.reject()):(d.delta&&i.go(-d.delta,!1),lt(E,b,$))).then(E=>{(E=E||rt(b,$,!1))&&(d.delta&&!G(E,8)?i.go(-d.delta,!1):d.type===nt.pop&&G(E,20)&&i.go(-1,!1)),I(b,$,E)}).catch(Z)}))}let ot,ct=J(),Pt=J();function lt(a,v,d){it(a);const b=Pt.list();return b.length?b.forEach(C=>C(a,v,d)):console.error(a),Promise.reject(a)}function it(a){return ot||(ot=!a,oe(),ct.list().forEach(([v,d])=>a?d(a):v()),ct.reset()),a}function xt(a,v,d,b){const{scrollBehavior:C}=t;if(!K||!C)return Promise.resolve();const $=!d&&function(P){const k=bt.get(P);return bt.delete(P),k}(qt(a.fullPath,0))||(b||!d)&&history.state&&history.state.scroll||null;return ce().then(()=>C(a,v,$)).then(P=>P&&xe(P)).catch(P=>lt(P,a,v))}const ut=a=>i.go(a);let ft;const at=new Set,Ct={currentRoute:o,listening:!0,addRoute:function(a,v){let d,b;return ne(a)?(d=e.getRecordMatcher(a),b=v):b=a,e.addRoute(b,d)},removeRoute:function(a){const v=e.getRecordMatcher(a);v&&e.removeRoute(v)},hasRoute:function(a){return!!e.getRecordMatcher(a)},getRoutes:function(){return e.getRoutes().map(a=>a.record)},resolve:f,options:t,push:y,replace:function(a){return y(R(p(a),{replace:!0}))},go:ut,back:()=>ut(-1),forward:()=>ut(1),beforeEach:h.add,beforeResolve:w.add,afterEach:n.add,onError:Pt.add,isReady:function(){return ot&&o.value!==W?Promise.resolve():new Promise((a,v)=>{ct.add([a,v])})},install(a){a.component("RouterLink",We),a.component("RouterView",De),a.config.globalProperties.$router=this,Object.defineProperty(a.config.globalProperties,"$route",{enumerable:!0,get:()=>N(o)}),K&&!ft&&o.value===W&&(ft=!0,y(i.location).catch(b=>{}));const v={};for(const b in W)Object.defineProperty(v,b,{get:()=>o.value[b],enumerable:!0});a.provide(Rt,this),a.provide(Ot,se(v)),a.provide(Et,o);const d=a.unmount;at.add(a),a.unmount=function(){at.delete(a),at.size<1&&(l=W,Y&&Y(),Y=null,o.value=W,ft=!1,ot=!1),d()}}};function V(a){return a.reduce((v,d)=>v.then(()=>M(d)),Promise.resolve())}return Ct}function Ke(){return Q(Ot)}export{Ve as a,ze as c,Ke as u};
